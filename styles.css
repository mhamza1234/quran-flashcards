:root{
  --bg:#0b1020; --panel:#0f1730; --panel2:#121a38; --ink:#e8eefc; --muted:#aab5d4;
  --accent:#3aa0ff; --accent2:#7cc86a; --chip:#1d2a52; --border:#2a345a;
}

*{box-sizing:border-box;}
html,body{height:100%;}
body{
  margin:0; font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  color:var(--ink); background:linear-gradient(180deg,#091026,#0b1226 40%, #0a132a);
}

/* top bar */
.topbar{
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.75rem 1rem; border-bottom:1px solid var(--border); background:var(--panel);
}
.brand{font-weight:700;}
.controls{display:flex; align-items:center; gap:.75rem; flex-wrap:wrap;}
.control{display:flex; align-items:center; gap:.3rem; color:var(--muted);}
select,.search{
  background:var(--panel2); color:var(--ink); border:1px solid var(--border);
  padding:.45rem .6rem; border-radius:.5rem; outline:none;
}
.search{min-width:18ch;}
.btn{background:#1a2347; color:var(--ink); padding:.55rem .9rem; border:none; border-radius:.6rem; cursor:pointer; border:1px solid var(--border);}
.btn.small{padding:.4rem .7rem; font-size:.9rem;}
.btn:hover{background:#1b2a54;}
.btn.accent{background:var(--accent); color:#071227; border-color:transparent;}
.btn.accent:hover{filter:brightness(1.05);}

/* ayah header strip */
.ayah-strip{
  display:grid; grid-template-columns:1fr 1fr; gap:.75rem;
  padding:.8rem 1rem; border-bottom:1px solid var(--border); background:#0c1430;
}
.ayah-ar{font-size:1.28rem; text-align:center; direction:rtl; line-height:1.9;}
.ayah-bn{font-size:1.04rem; color:var(--muted);}

/* card */
.card-wrap{display:grid; place-items:center; padding:1rem;}
.card{
  position:relative; width:min(1200px,96vw); height:64vh; perspective:1000px;
}
.face{
  position:absolute; inset:0; padding:1rem; border:1px solid var(--border); border-radius:14px;
  background:radial-gradient(1200px 450px at 70% -50%, #172250, #0f1836 60%, #0b1226);
  display:grid; grid-template-columns:1.1fr .9fr; gap:1rem;
  backface-visibility:hidden; transform-style:preserve-3d;
  transition:transform .5s ease-in-out;
  overflow:hidden; /* scroll inside columns */
}

/* >>> IMPORTANT: initial face rotations <<< */
.front{ transform: rotateY(0deg); }
.back { transform: rotateY(180deg); }

/* flip states */
.card.flipped .front{ transform: rotateY(180deg); }
.card.flipped .back { transform: rotateY(360deg); }

/* FRONT */
.front .left{
  display:grid; grid-template-columns:auto; gap:1rem;
  justify-items:start; overflow:auto;
}
.chip{background:var(--chip); color:var(--ink); padding:.25rem .5rem; border-radius:6px; font-size:.9rem; width:max-content;}
.word-ar{
  font-size:2.9rem; direction:rtl; text-align:left; line-height:1.3;
  margin:0; padding-left:.2rem; /* aligns with labels to the left */
}
.word-bn{font-size:1.15rem; color:var(--muted);}
.grid{display:grid; gap:.45rem; grid-template-columns:1fr;}
.label{color:#9bb2ff;}
.left .grid div{font-size:1.08rem;}

.right{
  border-left:1px dashed var(--border); padding-left:1rem;
  display:flex; flex-direction:column; align-items:stretch; justify-content:flex-start;
  overflow:auto;
}
.deriv-header{font-weight:800; margin-bottom:.5rem; color:#a4d1ff;}
.deriv-list{display:flex; flex-direction:column; gap:.7rem;}
.deriv-item{padding:.75rem .85rem; background:#0e1a3c; border:1px solid var(--border); border-radius:12px;}
.deriv-item .arabic{direction:rtl; text-align:right; font-size:1.55rem; line-height:1.4; margin-bottom:.2rem;}
.deriv-item .meaning{color:var(--accent2); font-weight:700; margin:.28rem 0 .35rem;}
/* Arabic example = larger & left-aligned for balance (RTL shaping preserved) */
.ar-example{direction:rtl; text-align:left; font-size:1.6rem; line-height:1.7; margin-top:.25rem; color:#e6eeff;}
.ex-bn{text-align:left;}
.occ-wrap{ margin-top:.35rem; display:flex; flex-wrap:wrap; }
.chip-sm{
  display:inline-block; margin:.20rem .3rem 0 0; padding:.22rem .5rem;
  border:1px solid var(--border); border-radius:.5rem; background:#0f2147; color:#cfe0ff; font-size:.9rem;
  cursor:pointer; user-select:none;
}
.chip-sm.copied{ background:#1e7a46; color:#ebfff3; border-color:transparent; }

/* BACK â€” single centered column list */
.back{ grid-template-columns:1fr; }
.back-deriv{display:grid; place-items:center; height:100%; overflow:auto;}
.deriv-bubble{
  width:min(980px,94%); padding:1rem; background:#0d1838; border:1px solid var(--border); border-radius:18px;
  display:flex; flex-direction:column; gap:1rem; max-height:100%; overflow:auto;
}

/* Ayah rows: Arabic | Bangla (one line, centered) */
.ayah-grid{ display:flex; flex-direction:column; gap:.85rem; align-items:center; }
.pair{
  width:min(900px,92%);
  display:grid; grid-template-columns:1fr 1fr; align-items:center; gap:.6rem;
  background:#0e1a3c; border:1px solid var(--border); border-radius:12px; padding:.6rem .8rem;
}
.pair-ar{direction:rtl; text-align:center; font-size:1.7rem; line-height:1.45;}
.pair-bn{text-align:center; font-size:1.12rem; color:#d8e1ff;}

/* nav */
.nav{
  display:flex; gap:.6rem; align-items:center; justify-content:center;
  padding:.8rem; border-top:1px solid var(--border); background:var(--panel);
}
.pos{margin-left:1rem; color:#aab5d4;}

/* errors */
.error{
  position:fixed; left:0; right:0; bottom:0; transform:translateY(-100%);
  background:#c0392b; color:#fff; padding:.6rem .9rem; text-align:center; z-index:60;
}
.hidden{display:none;}
