/* =========================
   Quran Flashcards â€” Styles
   ========================= */

/* ---------- Theme ---------- */
:root{
  --bg:#0f1217;
  --panel:#1a1f27;
  --panel2:#232a34;
  --ink:#e8edf2;
  --ink-dim:#c8d0d8;
  --muted:#8fa1b4;

  --gold:#f0b13e;
  --gold-ink:#232323;

  --hair:1px solid rgba(240,177,62,.28);
  --line:1px solid #2d3746;

  --r-xl:24px;
  --r-lg:16px;
  --r-md:12px;

  --fs-ayah:clamp(38px,6vw,72px);
  --fs-word:clamp(34px,5.2vw,60px);
  --fs-bn:clamp(18px,2.2vw,22px);
  --fs-ui:14px;
  --fs-sec:16px;

  --shadow:0 14px 34px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans";
}

/* ---------- Utilities ---------- */
.hidden{display:none!important}
.muted{color:var(--muted)}
.label{color:var(--ink-dim);font-weight:700}
.chip{
  display:inline-block;
  background:#111722;
  border:1px solid #2a3340;
  color:var(--ink);
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
}

/* ---------- Topbar ---------- */
.topbar{
  position:sticky; top:0; z-index:50;
  display:flex; align-items:center; gap:12px;
  padding:10px 14px;
  background:#0c1016; border-bottom:var(--hair);
}
.brand{font-weight:800; letter-spacing:.2px}
.controls{display:flex; gap:14px; flex-wrap:wrap; align-items:center}
.control{display:flex; gap:8px; align-items:center}
.topbar select,
.search{
  background:#10141b; color:var(--ink);
  border:1px solid #2a3340; border-radius:10px;
  padding:8px 10px; min-width:180px;
}
.btn{
  border:1px solid #2b3644; background:#121823; color:var(--ink);
  padding:8px 16px; border-radius:12px; cursor:pointer;
}
.btn.small{padding:6px 12px; border-radius:10px}
.btn.accent{background:var(--gold); color:var(--gold-ink); border-color:transparent; font-weight:800}
.btn:hover{filter:brightness(1.06)}

/* ---------- Error banner ---------- */
.error{
  background:#3b1e1e; color:#ffd7d7;
  border:1px solid #6b2b2b; border-left:6px solid #c44545;
  margin:10px auto; width:min(1000px,94vw);
  border-radius:10px; padding:10px 12px; font-size:14px;
}

/* ---------- Ayah strip ---------- */
.ayah-strip{
  width:min(1100px,94vw);
  margin:14px auto 8px;
  background:#121824; border:var(--line);
  border-radius:14px; padding:10px 14px;
}
.ayah-ar{font-size:var(--fs-ayah); font-weight:800; text-align:center; direction:rtl; unicode-bidi:plaintext}
.ayah-bn{margin-top:6px; text-align:center; color:var(--ink-dim); font-size:var(--fs-bn)}

/* ---------- Card wrapper ---------- */
.card-wrap{
  width:min(1100px,94vw);
  margin:10px auto;
}
.card{
  background:var(--panel);
  border-radius:var(--r-xl);
  box-shadow:var(--shadow);
  padding:16px;
  border:1px solid #283242;
  overflow:hidden;
}

/* Faces visibility (flip) */
.card .back{display:none}
.card.show-back .front{display:none}
.card.show-back .back{display:block}

/* ---------- Front face ---------- */
.face{min-height:58vh}
.front{
  display:grid;
  grid-template-columns: 1.2fr .8fr;
  gap:16px;
}
@media (max-width:880px){
  .front{grid-template-columns:1fr}
}

.front .left{
  background:var(--panel2); border:1px solid #2b3445; border-radius:16px;
  padding:16px;
}
.front .right{
  background:#141a25; border:1px solid #243046; border-radius:16px;
  padding:16px; overflow:auto;
}

.word-ar{font-size:var(--fs-word); font-weight:900; text-align:center; line-height:1.15; direction:rtl; unicode-bidi:plaintext; margin:8px 0 0}
.word-bn{text-align:center; color:var(--ink-dim); font-size:var(--fs-bn); margin:4px 0 10px}

.grid{display:grid; grid-template-columns:1fr; gap:6px; margin-top:10px}
.grid .label{display:inline-block; min-width:120px}

.deriv-header{font-weight:900; color:var(--gold); margin-bottom:8px; letter-spacing:.2px}
.deriv-list{display:flex; flex-direction:column; gap:10px; max-height:48vh; overflow:auto}

/* deriv rows (front small + back large share base) */
.deriv-row{
  display:flex; gap:12px; align-items:flex-start;
  padding:10px 0; border-bottom:1px dashed #2a3240;
}
.deriv-row.small{padding:6px 0}
.d-ar{font-weight:800; direction:rtl; unicode-bidi:plaintext}
.d-ar.big{font-size:clamp(22px,3.2vw,32px)}
.d-bn{color:#cbd6e2}
.d-meta{font-size:12px; color:#93a4b8; margin-top:2px}

/* ---------- Back face ---------- */
.back{
  padding:6px;
}
.back-deriv .deriv-bubble{
  background:#0f141d url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6"><rect width="6" height="6" fill="%230f141d"/><path d="M0 6 L6 0" stroke="%231a2535" stroke-width="0.6"/></svg>') repeat;
  border:1px solid #263144; border-radius:16px; padding:16px;
}
#backDerivList{display:flex; flex-direction:column; gap:12px}

/* ---------- Nav row ---------- */
.nav{
  width:min(1100px,94vw);
  margin:14px auto 38px;
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
}
.pos{margin-left:auto; color:var(--ink-dim)}

/* ---------- Helpers for Arabic alignment ---------- */
[dir="rtl"]{text-align:right}
