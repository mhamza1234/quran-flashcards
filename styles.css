/* ===== Theme ===== */
:root{
  --bg:#0f1217; --panel:#1a1f27; --panel2:#232a34;
  --ink:#e8edf2; --ink-dim:#c8d0d8; --muted:#8fa1b4;
  --gold:#f0b13e; --gold-ink:#232323;
  --hair:1px solid rgba(240,177,62,.28);
  --r-xl:24px; --r-lg:16px; --r-md:12px;
  --fs-ayah: clamp(42px, 6vw, 72px); --fs-bn: clamp(18px,2.4vw,22px);
  --fs-ui:14px; --fs-sec:16px; --fs-h:20px;
  --shadow:0 14px 34px rgba(0,0,0,.35);
}

*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family: ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;}
.muted{color:var(--muted)}

/* Header bar */
.header-bar{
  position:sticky;top:0;z-index:50;
  display:flex;align-items:center;gap:10px;padding:10px 14px;
  background:#0d1015;border-bottom:var(--hair)
}
.header-bar .brand{font-weight:800;letter-spacing:.2px}
.header-bar .spacer{flex:1}
.ctl{display:flex;align-items:center;gap:8px;color:var(--ink-dim)}
.select,.go{
  background:#10141b;color:var(--ink);border:1px solid #2a3340;border-radius:10px;padding:8px 10px
}
.go{background:var(--gold);color:var(--gold-ink);font-weight:700;border:0}

/* Main grid */
.main{max-width:1200px;margin:18px auto;display:grid;gap:16px;
  grid-template-columns:minmax(560px,2fr) minmax(300px,1fr)}
@media (max-width:980px){
  .main{grid-template-columns:1fr}
  .info-panel{display:none}
}

/* Flashcard */
.flashcard{background:var(--panel);border-radius:var(--r-xl);box-shadow:var(--shadow);overflow:hidden;display:flex;flex-direction:column;min-height:72vh}
.card-header{padding:12px 16px;border-bottom:var(--hair);display:flex;justify-content:space-between;align-items:center}
.nav{display:flex;gap:8px;flex-wrap:wrap}
.btn{border:1px solid #2b3644;background:#121823;color:var(--ink);padding:8px 14px;border-radius:12px;cursor:pointer}
.btn.gold{background:var(--gold);color:var(--gold-ink);border:0;font-weight:700}
.btn:hover{filter:brightness(1.06)}
.crumb{color:var(--muted);font-weight:600}

.card-body{padding:18px 20px 16px;overflow:auto}
.face-inner{max-width:760px;margin:0 auto}

.word-ar{font-size:var(--fs-ayah);font-weight:800;text-align:center;line-height:1.15}
.word-bn{text-align:center;font-size:var(--fs-bn);margin-top:6px;color:var(--ink-dim)}

.audio-fab{position:sticky;left:calc(100% - 96px);top:24px;width:72px;height:72px;border-radius:50%;
  background:var(--gold);color:var(--gold-ink);display:grid;place-items:center;
  box-shadow:0 6px 22px rgba(240,177,62,.35);border:0;font-size:24px}

.sep{height:1px;background:linear-gradient(90deg,transparent,rgba(240,177,62,.55),transparent);margin:16px 0}
.block-title{font-size:var(--fs-h);font-weight:800;color:var(--gold);margin:2px 0 8px}

.taj-summary{display:flex;gap:8px;flex-wrap:wrap}
.chip{display:inline-flex;align-items:center;gap:6px;border:1px solid #3a4658;border-radius:999px;padding:6px 10px;background:#151b24;color:var(--ink);font-size:13px}
.taj-list{display:flex;flex-direction:column;gap:8px}
.taj-line{font-size:var(--fs-sec);line-height:1.5}
.taj-key{color:var(--gold);font-weight:700;margin-right:8px}
.taj-ar{direction:rtl;unicode-bidi:plaintext;font-weight:700}
.taj-example{background:var(--panel2);border:1px solid #2c3644;border-radius:14px;padding:10px}
.ex-title{font-weight:800;color:var(--gold);margin-bottom:6px}
.ex-line{display:flex;gap:12px;align-items:baseline}
.ex-ar{font-weight:800;direction:rtl;unicode-bidi:plaintext}
.hint{text-align:center;color:var(--ink-dim);font-size:var(--fs-ui);margin-top:8px}

/* Back top */
.sub-id{color:var(--muted);font-weight:700;margin-bottom:2px}
.back-ar{font-size:clamp(26px,4vw,38px);font-weight:800}
.back-bn{color:var(--ink-dim)}

/* Tabs */
.tabs{display:flex;gap:8px;margin-top:12px}
.tab{border:1px solid #334055;background:#131a24;color:var(--ink);padding:8px 12px;border-radius:10px;cursor:pointer}
.tab.active{background:var(--gold);color:var(--gold-ink);border-color:transparent;font-weight:800}
.tabpane{margin-top:12px}

/* Details & derivations */
.details{background:var(--panel2);border-radius:var(--r-lg);padding:12px 14px;border:1px solid #2c3644}
.detail-row{margin:4px 0;color:var(--ink-dim)}

.deriv-list{display:flex;flex-direction:column;gap:14px}
.deriv-card{background:#f2f4f7;color:#0e1722;border-radius:16px;padding:14px 16px;display:flex;gap:14px;align-items:flex-start;border-left:10px solid var(--gold)}
.deriv-ar{font-size:clamp(24px,3.4vw,32px);font-weight:800;direction:rtl;unicode-bidi:plaintext}
.deriv-bn{color:#2a3646}
.deriv-meta{font-size:12px;color:#405064;margin-top:6px}

/* Word-by-Word */
.wbw-toolbar{display:flex;justify-content:flex-end;margin-bottom:8px}
.wbw-list{display:flex;flex-direction:column}
.wbw-row{display:grid;grid-template-columns:1fr auto;gap:14px;align-items:baseline;padding:8px 0;border-bottom:1px dashed #2f3a49}
.wbw-ar{font-size:24px;font-weight:700;direction:rtl;unicode-bidi:plaintext}
.wbw-bn{color:var(--ink-dim)}

/* Right panel placeholder */
.info-panel{background:var(--panel);border-radius:var(--r-xl);padding:16px;border:1px dashed #2d3847;display:flex;align-items:center;justify-content:center}
.panel-empty{opacity:.7;text-align:center}
